{
  "container_app": {
    "name": "backend-ts",
    "revision_mode": "Single",
    "ingress": {
      "external_enabled": true,
      "target_port": 3000,
      "traffic_weight": [
        {
          "label": "blue",
          "latest_revision": true,
          "revision_suffix": "blue",
          "percentage": 100
        }
      ]
    },
    "dapr": {
      "app_id": "backend-ts",
      "app_port": 3000,
      "app_protocol": "http"
    },
    "secrets": [
      {
        "name": "apikey",
        "value": "supersecretvalue"
      }
    ],
    "template": {
      "containers": [
        {
          "name": "backend-ts",
          "image": "dapriosamples/hello-k8s-node:latest",
          "cpu": 0.5,
          "memory": "1Gi",
          "env": [
            {
              "name": "API_KEY",
              "secret_name": "apikey"
            },
            {
              "name": "DB_HOST",
              "value": "somevalue"
            }
          ]
        }
      ],
      "min_replicas": 1,
      "max_replicas": 1
    }
  }
}
